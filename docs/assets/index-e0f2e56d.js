(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function B(){}function de(t){return t()}function ie(){return Object.create(null)}function J(t){t.forEach(de)}function pe(t){return typeof t=="function"}function Q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function be(t){return Object.keys(t).length===0}function h(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function S(t){t.parentNode&&t.parentNode.removeChild(t)}function le(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function ye(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function q(){return O(" ")}function we(){return O("")}function ke(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ee(t){return Array.from(t.childNodes)}function C(t,e){e=""+e,t.data!==e&&(t.data=e)}class Te{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=ye(n.nodeName):this.e=T(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)j(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(S)}}let D;function Z(t){D=t}function Ne(){if(!D)throw new Error("Function called outside component initialization");return D}function Le(t){Ne().$$.on_mount.push(t)}const H=[],oe=[];let W=[];const se=[],Ae=Promise.resolve();let te=!1;function Oe(){te||(te=!0,Ae.then(ge))}function ne(t){W.push(t)}const ee=new Set;let F=0;function ge(){if(F!==0)return;const t=D;do{try{for(;F<H.length;){const e=H[F];F++,Z(e),Pe(e.$$)}}catch(e){throw H.length=0,F=0,e}for(Z(null),H.length=0,F=0;oe.length;)oe.pop()();for(let e=0;e<W.length;e+=1){const n=W[e];ee.has(n)||(ee.add(n),n())}W.length=0}while(H.length);for(;se.length;)se.pop()();te=!1,ee.clear(),Z(t)}function Pe(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ne)}}function Se(t){const e=[],n=[];W.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),W=e}const x=new Set;let I;function R(){I={r:0,c:[],p:I}}function U(){I.r||J(I.c),I=I.p}function L(t,e){t&&t.i&&(x.delete(t),t.i(e))}function M(t,e,n,l){if(t&&t.o){if(x.has(t))return;x.add(t),I.c.push(()=>{x.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Me=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function V(t){t&&t.c()}function G(t,e,n,l){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),l||ne(()=>{const s=t.$$.on_mount.map(de).filter(pe);t.$$.on_destroy?t.$$.on_destroy.push(...s):J(s),t.$$.on_mount=[]}),i.forEach(ne)}function K(t,e){const n=t.$$;n.fragment!==null&&(Se(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function je(t,e){t.$$.dirty[0]===-1&&(H.push(t),Oe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,l,r,i,s,_=[-1]){const c=D;Z(t);const f=t.$$={fragment:null,ctx:[],props:i,update:B,not_equal:r,bound:ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:ie(),dirty:_,skip_bound:!1,root:e.target||c.$$.root};s&&s(f.root);let d=!1;if(f.ctx=n?n(t,e.props||{},(o,u,...a)=>{const k=a.length?a[0]:u;return f.ctx&&r(f.ctx[o],f.ctx[o]=k)&&(!f.skip_bound&&f.bound[o]&&f.bound[o](k),d&&je(t,o)),u}):[],f.update(),d=!0,J(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const o=Ee(e.target);f.fragment&&f.fragment.l(o),o.forEach(S)}else f.fragment&&f.fragment.c();e.intro&&L(t.$$.fragment),G(t,e.target,e.anchor,e.customElement),ge()}Z(c)}class Y{$destroy(){K(this,1),this.$destroy=B}$on(e,n){if(!pe(n))return B;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!be(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function qe(t){let e,n,l=t[1]+t[2]+1+"",r,i,s,_,c=t[0].title+"",f,d,o,u,a=t[4]()+"",k,v,z,p=t[0].user+"",y,$,P=t[0].time_ago+"",A;return{c(){e=T("article"),n=T("span"),r=O(l),i=q(),s=T("h2"),_=T("a"),f=O(c),d=q(),o=T("p"),u=T("a"),k=O(a),z=O(" by "),y=O(p),$=q(),A=O(P),b(n,"class","svelte-iq2nst"),b(_,"target","_blank"),b(_,"rel","noreferrer"),b(_,"href",t[3]),b(_,"class","svelte-iq2nst"),b(s,"class","svelte-iq2nst"),b(u,"href",v="#/item/"+t[0].id),b(u,"class","svelte-iq2nst"),b(o,"class","meta"),b(e,"class","svelte-iq2nst")},m(N,g){j(N,e,g),h(e,n),h(n,r),h(e,i),h(e,s),h(s,_),h(_,f),h(e,d),h(e,o),h(o,u),h(u,k),h(o,z),h(o,y),h(o,$),h(o,A)},p(N,[g]){g&6&&l!==(l=N[1]+N[2]+1+"")&&C(r,l),g&1&&c!==(c=N[0].title+"")&&C(f,c),g&8&&b(_,"href",N[3]),g&1&&v!==(v="#/item/"+N[0].id)&&b(u,"href",v),g&1&&p!==(p=N[0].user+"")&&C(y,p),g&1&&P!==(P=N[0].time_ago+"")&&C(A,P)},i:B,o:B,d(N){N&&S(e)}}}function Ce(t,e,n){let l,{item:r}=e,{i}=e,{offset:s}=e;function _(){const c=r.comments_count;return`${c} ${c===1?"comment":"comments"}`}return t.$$set=c=>{"item"in c&&n(0,r=c.item),"i"in c&&n(1,i=c.i),"offset"in c&&n(2,s=c.offset)},t.$$.update=()=>{t.$$.dirty&1&&n(3,l=r.type==="ask"?`https://news.ycombinator.com/${r.url}`:r.url)},[r,i,s,l,_]}class ze extends Y{constructor(e){super(),X(this,e,Ce,qe,Q,{item:0,i:1,offset:2})}}function fe(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function Be(t){let e;return{c(){e=T("p"),e.textContent="loading...",b(e,"class","loading svelte-1gm06r8")},m(n,l){j(n,e,l)},p:B,i:B,o:B,d(n){n&&S(e)}}}function Ie(t){let e,n,l,r=t[0]+1+"",i,s,_,c=t[1],f=[];for(let o=0;o<c.length;o+=1)f[o]=ce(fe(t,c,o));const d=o=>M(f[o],1,1,()=>{f[o]=null});return{c(){for(let o=0;o<f.length;o+=1)f[o].c();e=q(),n=T("a"),l=O("page "),i=O(r),b(n,"href",s="#/top/"+(t[0]+1)),b(n,"class","svelte-1gm06r8")},m(o,u){for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(o,u);j(o,e,u),j(o,n,u),h(n,l),h(n,i),_=!0},p(o,u){if(u&6){c=o[1];let a;for(a=0;a<c.length;a+=1){const k=fe(o,c,a);f[a]?(f[a].p(k,u),L(f[a],1)):(f[a]=ce(k),f[a].c(),L(f[a],1),f[a].m(e.parentNode,e))}for(R(),a=c.length;a<f.length;a+=1)d(a);U()}(!_||u&1)&&r!==(r=o[0]+1+"")&&C(i,r),(!_||u&1&&s!==(s="#/top/"+(o[0]+1)))&&b(n,"href",s)},i(o){if(!_){for(let u=0;u<c.length;u+=1)L(f[u]);_=!0}},o(o){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)M(f[u]);_=!1},d(o){le(f,o),o&&S(e),o&&S(n)}}}function ce(t){let e,n;return e=new ze({props:{item:t[3],i:t[5],offset:t[2]}}),{c(){V(e.$$.fragment)},m(l,r){G(e,l,r),n=!0},p(l,r){const i={};r&2&&(i.item=l[3]),r&4&&(i.offset=l[2]),e.$set(i)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Fe(t){let e,n,l,r;const i=[Ie,Be],s=[];function _(c,f){return c[1]?0:1}return e=_(t),n=s[e]=i[e](t),{c(){n.c(),l=we()},m(c,f){s[e].m(c,f),j(c,l,f),r=!0},p(c,[f]){let d=e;e=_(c),e===d?s[e].p(c,f):(R(),M(s[d],1,1,()=>{s[d]=null}),U(),n=s[e],n?n.p(c,f):(n=s[e]=i[e](c),n.c()),L(n,1),n.m(l.parentNode,l))},i(c){r||(L(n),r=!0)},o(c){M(n),r=!1},d(c){s[e].d(c),c&&S(l)}}}const He=20;function We(t,e,n){let{page:l}=e,r,i;return t.$$set=s=>{"page"in s&&n(0,l=s.page)},t.$$.update=()=>{t.$$.dirty&1&&fetch(`https://node-hnapi.herokuapp.com/news?page=${l}`).then(s=>s.json()).then(s=>{n(1,r=s),n(2,i=He*(l-1)),window.scrollTo(0,0)})},[l,r,i]}class Ge extends Y{constructor(e){super(),X(this,e,We,Fe,Q,{page:0})}}function ue(t,e,n){const l=t.slice();return l[1]=e[n],l}function ae(t){let e,n;return e=new ve({props:{comment:t[1]}}),{c(){V(e.$$.fragment)},m(l,r){G(e,l,r),n=!0},p(l,r){const i={};r&1&&(i.comment=l[1]),e.$set(i)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Ke(t){let e,n,l=t[0].user+"",r,i,s=t[0].time_ago+"",_,c,f,d=t[0].content+"",o,u,a,k=t[0].comments,v=[];for(let p=0;p<k.length;p+=1)v[p]=ae(ue(t,k,p));const z=p=>M(v[p],1,1,()=>{v[p]=null});return{c(){e=T("article"),n=T("p"),r=O(l),i=q(),_=O(s),c=q(),f=new Te(!1),o=q(),u=T("div");for(let p=0;p<v.length;p+=1)v[p].c();b(n,"class","meta svelte-1v1ma1k"),f.a=o,b(u,"class","replies svelte-1v1ma1k"),b(e,"class","svelte-1v1ma1k")},m(p,y){j(p,e,y),h(e,n),h(n,r),h(n,i),h(n,_),h(e,c),f.m(d,e),h(e,o),h(e,u);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(u,null);a=!0},p(p,[y]){if((!a||y&1)&&l!==(l=p[0].user+"")&&C(r,l),(!a||y&1)&&s!==(s=p[0].time_ago+"")&&C(_,s),(!a||y&1)&&d!==(d=p[0].content+"")&&f.p(d),y&1){k=p[0].comments;let $;for($=0;$<k.length;$+=1){const P=ue(p,k,$);v[$]?(v[$].p(P,y),L(v[$],1)):(v[$]=ae(P),v[$].c(),L(v[$],1),v[$].m(u,null))}for(R(),$=k.length;$<v.length;$+=1)z($);U()}},i(p){if(!a){for(let y=0;y<k.length;y+=1)L(v[y]);a=!0}},o(p){v=v.filter(Boolean);for(let y=0;y<v.length;y+=1)M(v[y]);a=!1},d(p){p&&S(e),le(v,p)}}}function Ze(t,e,n){let{comment:l}=e;return t.$$set=r=>{"comment"in r&&n(0,l=r.comment)},[l]}class ve extends Y{constructor(e){super(),X(this,e,Ze,Ke,Q,{comment:0})}}function me(t,e,n){const l=t.slice();return l[3]=e[n],l}function _e(t){let e,n=t[0].domain+"",l;return{c(){e=T("small"),l=O(n)},m(r,i){j(r,e,i),h(e,l)},p(r,i){i&1&&n!==(n=r[0].domain+"")&&C(l,n)},d(r){r&&S(e)}}}function he(t){let e,n;return e=new ve({props:{comment:t[3]}}),{c(){V(e.$$.fragment)},m(l,r){G(e,l,r),n=!0},p(l,r){const i={};r&1&&(i.comment=l[3]),e.$set(i)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function De(t){let e,n,l,r,i,s,_=t[0].title+"",c,f,d,o,u,a=t[0].user+"",k,v,z=t[0].time_ago+"",p,y,$,P,A=t[0].domain&&_e(t),N=t[0].comments,g=[];for(let m=0;m<N.length;m+=1)g[m]=he(me(t,N,m));const $e=m=>M(g[m],1,1,()=>{g[m]=null});return{c(){e=T("a"),n=O("« back"),l=q(),r=T("article"),i=T("a"),s=T("h1"),c=O(_),f=q(),A&&A.c(),d=q(),o=T("p"),u=O("submitted by "),k=O(a),v=q(),p=O(z),y=q(),$=T("div");for(let m=0;m<g.length;m+=1)g[m].c();b(e,"href",t[1]),b(e,"class","svelte-106zs3f"),b(s,"class","svelte-106zs3f"),b(i,"href",t[2]),b(i,"class","svelte-106zs3f"),b(o,"class","meta"),b(r,"class","svelte-106zs3f"),b($,"class","comments")},m(m,w){j(m,e,w),h(e,n),j(m,l,w),j(m,r,w),h(r,i),h(i,s),h(s,c),h(i,f),A&&A.m(i,null),h(r,d),h(r,o),h(o,u),h(o,k),h(o,v),h(o,p),j(m,y,w),j(m,$,w);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m($,null);P=!0},p(m,[w]){if((!P||w&2)&&b(e,"href",m[1]),(!P||w&1)&&_!==(_=m[0].title+"")&&C(c,_),m[0].domain?A?A.p(m,w):(A=_e(m),A.c(),A.m(i,null)):A&&(A.d(1),A=null),(!P||w&4)&&b(i,"href",m[2]),(!P||w&1)&&a!==(a=m[0].user+"")&&C(k,a),(!P||w&1)&&z!==(z=m[0].time_ago+"")&&C(p,z),w&1){N=m[0].comments;let E;for(E=0;E<N.length;E+=1){const re=me(m,N,E);g[E]?(g[E].p(re,w),L(g[E],1)):(g[E]=he(re),g[E].c(),L(g[E],1),g[E].m($,null))}for(R(),E=N.length;E<g.length;E+=1)$e(E);U()}},i(m){if(!P){for(let w=0;w<N.length;w+=1)L(g[w]);P=!0}},o(m){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)M(g[w]);P=!1},d(m){m&&S(e),m&&S(l),m&&S(r),A&&A.d(),m&&S(y),m&&S($),le(g,m)}}}function Je(t,e,n){let l,{item:r}=e,{returnTo:i}=e;return t.$$set=s=>{"item"in s&&n(0,r=s.item),"returnTo"in s&&n(1,i=s.returnTo)},t.$$.update=()=>{t.$$.dirty&1&&n(2,l=r.domain?r.url:`https://news.ycombinator.com/${r.url}`)},[r,i,l]}class Qe extends Y{constructor(e){super(),X(this,e,Je,De,Q,{item:0,returnTo:1})}}const{window:Re}=Me;function Ue(t){let e,n;return e=new Ge({props:{page:t[1]}}),{c(){V(e.$$.fragment)},m(l,r){G(e,l,r),n=!0},p(l,r){const i={};r&2&&(i.page=l[1]),e.$set(i)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Ve(t){let e,n;return e=new Qe({props:{item:t[0],returnTo:"#/top/"+t[1]}}),{c(){V(e.$$.fragment)},m(l,r){G(e,l,r),n=!0},p(l,r){const i={};r&1&&(i.item=l[0]),r&2&&(i.returnTo="#/top/"+l[1]),e.$set(i)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){M(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Xe(t){let e,n,l,r,i,s;const _=[Ve,Ue],c=[];function f(d,o){return d[0]?0:d[1]?1:-1}return~(n=f(t))&&(l=c[n]=_[n](t)),{c(){e=T("main"),l&&l.c(),b(e,"class","svelte-1ak8npv")},m(d,o){j(d,e,o),~n&&c[n].m(e,null),r=!0,i||(s=ke(Re,"hashchange",t[2]),i=!0)},p(d,[o]){let u=n;n=f(d),n===u?~n&&c[n].p(d,o):(l&&(R(),M(c[u],1,1,()=>{c[u]=null}),U()),~n?(l=c[n],l?l.p(d,o):(l=c[n]=_[n](d),l.c()),L(l,1),l.m(e,null)):l=null)},i(d){r||(L(l),r=!0)},o(d){M(l),r=!1},d(d){d&&S(e),~n&&c[n].d(),i=!1,s()}}}function Ye(t,e,n){let l,r;async function i(){const s=window.location.hash.slice(1);if(s.startsWith("/item")){const _=s.slice(6);n(0,l=await fetch(`https://node-hnapi.herokuapp.com/item/${_}`).then(c=>c.json())),window.scrollTo(0,0)}else s.startsWith("/top")?(n(1,r=+s.slice(5)),n(0,l=null)):window.location.hash="/top/1"}return Le(i),[l,r,i]}class xe extends Y{constructor(e){super(),X(this,e,Ye,Xe,Q,{})}}new xe({target:document.getElementById("app")});
